<div class="wrapper"> 
  <h1>Courses</h1>
  <div class="first"></div>
  <div class="second"></div>
</div>
    
<script type ="text/javascript">
  $.getJSON('courses',function(data) {
    var title = "";
    $.each(data,function(index,element) {
      title += "<a class='course' href='javascript:void(0)' course_id='" + element.id + "'>" + element.title + "<\a><br>";
    });
    $(".first").html(title);
    //why does this have to be inside the original $.getJSON? - Joe
    $(".course").on("click", function() {
      var url = "courses/" + $(this).attr('course_id');
      $.getJSON(url, function(data) {
        var lessons = "";
        $.each(data, function(index, element) {
          lessons += "<a class='lesson' href='/videos'>" + element.title + "</a><br>";
          console.log(lessons);
        });
        $('.second').html(lessons);
      });
    });
  });
</script>